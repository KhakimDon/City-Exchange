{% extends "admin/login.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<style>
    /* Устанавливаем primary color #26A17B для Unfold */
    :root {
        --primary-color: #26A17B !important;
        --primary-hover: #1d7a5d !important;
        --primary-light: rgba(38, 161, 123, 0.1) !important;
    }
    
    /* Применяем primary color ко всем элементам Unfold */
    [data-theme="light"] [data-unfold],
    [data-theme="dark"] [data-unfold],
    .unfold-primary,
    .btn-primary,
    .button-primary,
    input[type="submit"].default,
    .submit-row input[type="submit"],
    .text-primary,
    .text-primary-500 {
        color: #26A17B !important;
    }
    
    /* Заменяем ВСЕ фиолетовые и розовые цвета на #26A17B */
    *[style*="purple"],
    *[style*="violet"],
    *[style*="#667eea"],
    *[style*="#764ba2"],
    *[style*="#6f42c1"],
    *[style*="#7c3aed"],
    *[style*="#8b5cf6"],
    *[style*="#9333ea"],
    *[style*="#a855f7"],
    *[style*="#c084fc"],
    *[style*="#d946ef"],
    *[style*="#ec4899"],
    *[style*="#f472b6"],
    *[style*="rgb(102, 126, 234)"],
    *[style*="rgb(118, 75, 162)"],
    *[style*="rgb(139, 92, 246)"],
    *[style*="rgb(147, 51, 234)"],
    *[style*="rgb(168, 85, 247)"],
    *[style*="rgb(192, 132, 252)"],
    *[style*="rgb(217, 70, 239)"],
    *[style*="rgb(236, 72, 153)"] {
        color: #26A17B !important;
        background-color: #26A17B !important;
        border-color: #26A17B !important;
    }
    
    /* Заменяем фиолетовые цвета в тексте */
    h1, h2, h3, h4, h5, h6,
    p, span, div, a,
    [class*="text-primary"],
    [class*="text-purple"],
    [class*="text-violet"] {
        color: inherit !important;
    }
    
    /* Принудительно заменяем фиолетовый цвет в заголовках */
    h1[style*="purple"],
    h2[style*="purple"],
    h3[style*="purple"],
    h1[style*="violet"],
    h2[style*="violet"],
    h3[style*="violet"],
    h1[style*="#667eea"],
    h2[style*="#667eea"],
    h3[style*="#667eea"] {
        color: #26A17B !important;
    }
    
    .btn-primary,
    .button-primary,
    input[type="submit"].default,
    .submit-row input[type="submit"] {
        background-color: #26A17B !important;
        border-color: #26A17B !important;
    }
    
    .btn-primary:hover,
    .button-primary:hover,
    input[type="submit"].default:hover,
    .submit-row input[type="submit"]:hover {
        background-color: #1d7a5d !important;
        border-color: #1d7a5d !important;
    }
    
    /* Принудительно заменяем фиолетовые цвета в кнопках */
    .btn-primary,
    .button-primary,
    input[type="submit"],
    button[type="submit"],
    .btn-primary:focus,
    .button-primary:focus,
    input[type="submit"]:focus,
    button[type="submit"]:focus,
    .btn-primary:active,
    .button-primary:active,
    input[type="submit"]:active,
    button[type="submit"]:active {
        background-color: #26A17B !important;
        background: #26A17B !important;
        background-image: none !important;
        border-color: #26A17B !important;
        color: white !important;
    }
    
    /* Принудительно заменяем фиолетовые цвета в фокусе инпутов */
    .form-control:focus,
    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="email"]:focus,
    textarea:focus,
    select:focus {
        border-color: #26A17B !important;
        box-shadow: 0 0 0 3px rgba(38, 161, 123, 0.1) !important;
        outline-color: #26A17B !important;
    }
    
    /* Убираем фиолетовые цвета из всех возможных состояний */
    *:focus {
        outline-color: #26A17B !important;
    }
    
    *[style*="purple"]:focus,
    *[style*="violet"]:focus,
    *[style*="#667eea"]:focus,
    *[style*="#764ba2"]:focus {
        border-color: #26A17B !important;
        box-shadow: 0 0 0 3px rgba(38, 161, 123, 0.1) !important;
    }
    
    /* Скрываем логотип на странице входа - все возможные варианты */
    .login-page img,
    .login-page img[src*="logo"],
    .login-page img[src*="Logo"],
    .login-page [class*="logo"] img,
    .login-page [class*="brand"] img,
    .login-page header img,
    .login-page .unfold-header img,
    .login-page .login-box-msg img,
    .login-page .brand-image,
    /* Скрываем элементы с Tailwind классами */
    .login-page .bg-cover,
    .login-page [class*="bg-cover"],
    .login-page [class*="grow"],
    .login-page [class*="max-w-3xl"],
    .login-page [class*="xl:max-w-4xl"],
    .login-page [class*="xl:block"],
    /* Скрываем все элементы с этими классами вместе */
    .login-page .bg-cover.grow,
    .login-page .bg-cover.hidden,
    .login-page .bg-cover.max-w-3xl,
    .login-page [class*="bg-cover"][class*="grow"],
    .login-page [class*="bg-cover"][class*="hidden"],
    .login-page [class*="bg-cover"][class*="max-w-3xl"],
    .login-page [class*="bg-cover"][class*="xl:max-w-4xl"],
    .login-page [class*="bg-cover"][class*="xl:block"],
    /* Скрываем все div с этими классами */
    .login-page div[class*="bg-cover"],
    .login-page div[class*="grow"],
    .login-page div[class*="max-w-3xl"],
    .login-page div[class*="xl:max-w-4xl"],
    .login-page div[class*="xl:block"],
    /* Скрываем все элементы на странице входа с этими классами */
    body.login-page [class*="bg-cover"],
    body.login-page [class*="grow"][class*="bg-cover"],
    body.login-page [class*="max-w-3xl"][class*="bg-cover"] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        width: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
        position: absolute !important;
        left: -9999px !important;
    }
    
    /* Переопределяем xl:block для скрытия на всех размерах экрана */
    @media (min-width: 1280px) {
        .login-page .bg-cover,
        .login-page [class*="bg-cover"],
        .login-page [class*="xl:block"],
        body.login-page [class*="bg-cover"],
        body.login-page [class*="xl:block"] {
            display: none !important;
        }
    }
</style>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<script>
    // Удаляем логотип со страницы входа
    (function() {
        function removeLogo() {
            // Ищем все элементы с классами bg-cover, grow, max-w-3xl, xl:max-w-4xl, xl:block
            const logoElements = document.querySelectorAll(
                '.bg-cover, [class*="bg-cover"], [class*="grow"], [class*="max-w-3xl"], [class*="xl:max-w-4xl"], [class*="xl:block"]'
            );
            logoElements.forEach(el => {
                // Проверяем, содержит ли элемент классы bg-cover и grow
                if (el.classList.contains('bg-cover') || 
                    el.className.includes('bg-cover') || 
                    (el.className.includes('grow') && el.className.includes('bg-cover'))) {
                    el.style.display = 'none';
                    el.style.visibility = 'hidden';
                    el.style.opacity = '0';
                    el.style.width = '0';
                    el.style.height = '0';
                    el.style.overflow = 'hidden';
                    el.remove();
                }
            });
            
            // Удаляем все изображения логотипа
            const images = document.querySelectorAll('img[src*="logo"], img[src*="Logo"]');
            images.forEach(img => {
                img.remove();
            });
            
            // Удаляем элементы с классом brand-image
            const brandImages = document.querySelectorAll('.brand-image, [class*="brand-image"]');
            brandImages.forEach(el => {
                el.remove();
            });
        }
        
        // Применяем сразу
        removeLogo();
        
        // Применяем после загрузки DOM
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', removeLogo);
        } else {
            removeLogo();
        }
        
        // Применяем после полной загрузки
        window.addEventListener('load', function() {
            setTimeout(removeLogo, 100);
            setTimeout(removeLogo, 500);
        });
        
        // Наблюдаем за изменениями DOM
        const observer = new MutationObserver(function(mutations) {
            removeLogo();
        });
        observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true
        });
    })();
</script>
{% endblock %}
