{% extends "admin/login.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<style>
    /* Скрываем кнопку "Return to site" */
    a[href="/"]:not(.logo),
    .login-page a[href="/"],
    .login-page .site-link,
    .login-page .return-link {
        display: none !important;
    }
    
    /* Скрываем переключатель темы на странице входа */
    .login-page [class*="theme"],
    .login-page [class*="dark-mode"],
    .login-page [class*="light-mode"],
    .login-page button[aria-label*="theme"],
    .login-page button[aria-label*="Theme"],
    .login-page button[title*="theme"],
    .login-page button[title*="Theme"],
    .login-page [data-theme-toggle],
    .login-page .theme-toggle,
    .login-page .dark-mode-toggle,
    .login-page [id*="theme"],
    .login-page [id*="Theme"],
    .login-page header button:last-child,
    .login-page header [class*="toggle"],
    .login-page .unfold-header button:last-child {
        display: none !important;
        visibility: hidden !important;
    }
    
    /* Дефолтный стиль Unfold - темный фон */
    .login-page {
        background: #0E1829 !important;
        min-height: 100vh !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 20px !important;
    }
    
    /* Логотип сверху по центру */
    .login-box-msg {
        text-align: center !important;
        margin-bottom: 40px !important;
    }
    
    .login-box-msg img,
    .login-box-msg .brand-image {
        max-height: 60px !important;
        width: auto !important;
        margin: 0 auto 20px auto !important;
        display: block !important;
    }
    
    /* Скрываем стандартный заголовок Unfold, если он есть */
    .login-box-msg h1 {
        display: none !important;
    }
    
    /* Форма входа - простая и чистая, без рамок */
    .login-box {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
        padding: 0 !important;
        max-width: 400px !important;
        width: 100% !important;
        margin: 0 auto !important;
    }
    
    .login-box .card,
    .login-box .card-body {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
    }
    
    /* Поля ввода - СЕРЫЙ фон, НЕ зеленый! */
    .form-control,
    input[type="text"],
    input[type="password"],
    input[type="email"] {
        background-color: #2d3136 !important;
        background: #2d3136 !important;
        background-image: none !important;
        border: none !important;
        border-radius: 8px !important;
        color: white !important;
        padding: 12px 15px !important;
        font-size: 14px !important;
    }
    
    .form-control:focus,
    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="email"]:focus {
        background-color: #2d3136 !important;
        background: #2d3136 !important;
        border: none !important;
        color: white !important;
        box-shadow: none !important;
        outline: none !important;
    }
    
    .form-control::placeholder {
        color: rgba(255, 255, 255, 0.5) !important;
    }
    
    /* Метки полей - белый цвет */
    label {
        color: white !important;
        font-weight: 400 !important;
        margin-bottom: 8px !important;
        display: block !important;
        font-size: 14px !important;
    }
    
    /* Кнопка входа - ЗЕЛЕНЫЙ цвет #26A17B */
    .btn-primary,
    input[type="submit"],
    button[type="submit"] {
        background-color: #26A17B !important;
        background: #26A17B !important;
        background-image: none !important;
        border: none !important;
        color: white !important;
        border-radius: 8px !important;
        padding: 12px 30px !important;
        font-weight: 400 !important;
        font-size: 14px !important;
        width: 100% !important;
        transition: all 0.2s ease !important;
    }
    
    .btn-primary:hover,
    input[type="submit"]:hover,
    button[type="submit"]:hover {
        background-color: #1d7a5d !important;
        background: #1d7a5d !important;
        border: none !important;
        color: white !important;
    }
    
    /* Заменяем фиолетовые цвета в ТЕКСТЕ на зеленый (НЕ в полях ввода!) */
    .login-box-msg h2,
    .login-box-msg h3,
    .login-box-msg strong,
    .login-box-msg b,
    .login-box-msg p strong,
    .login-box-msg [class*="text-primary"],
    .login-box-msg [class*="primary"]:not(.btn-primary):not(.form-control) {
        color: #26A17B !important;
    }
    
    /* Скрываем приветственное сообщение, если оно есть */
    .login-box-msg p,
    .login-box-msg .welcome-text {
        display: none !important;
    }
    
    /* Группы полей */
    .form-group {
        margin-bottom: 20px !important;
    }
    
    /* Адаптивность */
    @media (max-width: 480px) {
        .login-box {
            padding: 0 10px !important;
        }
    }
</style>
{% endblock %}

{% block bodyclass %}{{ block.super }} login-page{% endblock %}

{% block extrahead %}
{{ block.super }}
<script>
    // Принудительно устанавливаем темную тему на странице входа
    (function() {
        document.documentElement.setAttribute('data-theme', 'dark');
        document.body.setAttribute('data-theme', 'dark');
        if (localStorage) {
            localStorage.setItem('theme', 'dark');
            localStorage.setItem('unfold-theme', 'dark');
        }
    })();
</script>
{% endblock %}
