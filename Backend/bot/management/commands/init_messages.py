from django.core.management.base import BaseCommand
from bot.models import BotMessage


class Command(BaseCommand):
    help = '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞'

    def handle(self, *args, **options):
        messages_data = [
            {
                'message_type': 'start',
                'text': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ City Exchange! üè¶\n\n–ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º —É—Å–ª—É–≥–∏ –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç —Å –ª—É—á—à–∏–º–∏ –∫—É—Ä—Å–∞–º–∏.\n\n–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é:'
            },
            {
                'message_type': 'about',
                'text': '–û –Ω–∞—Å\n\nCity Exchange - —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω—ã–π –æ–±–º–µ–Ω–Ω–∏–∫ –≤–∞–ª—é—Ç —Å –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã. –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤—ã–≥–æ–¥–Ω—ã–µ –∫—É—Ä—Å—ã –æ–±–º–µ–Ω–∞ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å.'
            },
            {
                'message_type': 'support',
                'text': '–ü–æ–¥–¥–µ—Ä–∂–∫–∞\n\n–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏:\n\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: +998 XX XXX XX XX\nüìß Email: support@cityexchange.com\nüí¨ Telegram: @cityexchange_support\n\n–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ –∏ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å –≤–∞–º!'
            },
            {
                'message_type': 'courses',
                'text': '–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç:'
            },
            {
                'message_type': 'aml',
                'text': 'AML –ü—Ä–æ–≤–µ—Ä–∫–∞\n\n–ú—ã –ø—Ä–æ–≤–æ–¥–∏–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏–∏ –æ—Ç–º—ã–≤–∞–Ω–∏—é –¥–µ–Ω–µ–≥.'
            },
            {
                'message_type': 'contact',
                'text': '–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏\n\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: +998 XX XXX XX XX\nüìß Email: info@cityexchange.com\nüí¨ Telegram: @cityexchange_support\n\n–†–∞–±–æ—Ç–∞–µ–º –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ!'
            },
            {
                'message_type': 'location',
                'text': '–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏\n\nüìç –ê–¥—Ä–µ—Å: –≥. –¢–∞—à–∫–µ–Ω—Ç, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1\n\nüöá –ú–µ—Ç—Ä–æ: –°—Ç–∞–Ω—Ü–∏—è "–¶–µ–Ω—Ç—Ä"\nüöå –ê–≤—Ç–æ–±—É—Å: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ "–ì–ª–∞–≤–Ω–∞—è"\n\n–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: 24/7'
            },
            {
                'message_type': 'cityex24_question',
                'text': '–í –∫–∞–∫—É—é —Å—Ç—Ä–∞–Ω—É –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏? –ü–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º –ø–µ—Ä–µ–≤–æ–¥–∞–º —Ä–∞–±–æ—Ç–∞–µ–º —Å 08:00 –¥–æ 20:00 –ø–æ –ú–°–ö'
            },
            {
                'message_type': 'cityex24_contact_request',
                'text': '–£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏'
            },
            {
                'message_type': 'cityex24_confirmation',
                'text': '–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞, —Å–∫–æ—Ä–æ –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏'
            },
        ]

        created_count = 0
        updated_count = 0

        for msg_data in messages_data:
            message, created = BotMessage.objects.get_or_create(
                message_type=msg_data['message_type'],
                defaults={'text': msg_data['text']}
            )
            if not created:
                message.text = msg_data['text']
                message.save()
                updated_count += 1
            else:
                created_count += 1

        self.stdout.write(
            self.style.SUCCESS(
                f'–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: —Å–æ–∑–¥–∞–Ω–æ {created_count}, –æ–±–Ω–æ–≤–ª–µ–Ω–æ {updated_count} —Å–æ–æ–±—â–µ–Ω–∏–π'
            )
        )

