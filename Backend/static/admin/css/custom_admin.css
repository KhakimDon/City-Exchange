/* Custom Admin CSS for City Exchange */
/* Заменяем ВСЕ фиолетовые и розовые цвета на #26A17B (зеленый) */

/* Переопределяем цвета Unfold с фиолетового на зеленый */
:root {
    --primary-color: #26A17B !important;
    --primary-hover: #1d7a5d !important;
    --primary-light: rgba(38, 161, 123, 0.1) !important;
    /* Переопределяем все возможные фиолетовые CSS переменные */
    --unfold-primary: #26A17B !important;
    --unfold-primary-hover: #1d7a5d !important;
}

/* Tailwind CSS класс text-primary-500 */
.text-primary-500 {
    color: #26A17B !important;
}

/* Глобальная замена всех фиолетовых и розовых цветов на #26A17B */
/* Заменяем фиолетовые цвета в inline стилях */
*[style*="purple"],
*[style*="violet"],
*[style*="#667eea"],
*[style*="#764ba2"],
*[style*="#6f42c1"],
*[style*="#7c3aed"],
*[style*="#8b5cf6"],
*[style*="#9333ea"],
*[style*="#a855f7"],
*[style*="#c084fc"],
*[style*="#d946ef"],
*[style*="#ec4899"],
*[style*="#f472b6"],
*[style*="rgb(102, 126, 234)"],
*[style*="rgb(118, 75, 162)"],
*[style*="rgb(139, 92, 246)"],
*[style*="rgb(147, 51, 234)"],
*[style*="rgb(168, 85, 247)"],
*[style*="rgb(192, 132, 252)"],
*[style*="rgb(217, 70, 239)"],
*[style*="rgb(236, 72, 153)"] {
    color: #26A17B !important;
    background-color: #26A17B !important;
    border-color: #26A17B !important;
}

/* Заменяем фиолетовые цвета в классах */
[class*="purple"],
[class*="violet"],
[class*="primary"]:not(.btn-secondary):not(.form-control):not(.form-group) {
    color: #26A17B !important;
}

/* Заменяем фиолетовые фоны */
[class*="purple"][class*="bg"],
[class*="violet"][class*="bg"],
.bg-primary,
.bg-purple,
.bg-violet {
    background-color: #26A17B !important;
}

/* Основные цвета Unfold */
[data-theme="light"] [data-unfold],
[data-theme="dark"] [data-unfold],
.unfold-primary,
.btn-primary,
.button-primary,
input[type="submit"].default,
.submit-row input[type="submit"],
input[type="submit"],
button[type="submit"],
button.btn-primary {
    background-color: #26A17B !important;
    border-color: #26A17B !important;
    color: white !important;
}

.btn-primary:hover,
.button-primary:hover,
input[type="submit"].default:hover,
.submit-row input[type="submit"]:hover,
input[type="submit"]:hover,
button[type="submit"]:hover {
    background-color: #1d7a5d !important;
    border-color: #1d7a5d !important;
    color: white !important;
}

/* Принудительно заменяем фиолетовые цвета в кнопках во всех состояниях */
.btn-primary,
.button-primary,
input[type="submit"],
button[type="submit"],
.btn-primary:focus,
.button-primary:focus,
input[type="submit"]:focus,
button[type="submit"]:focus,
.btn-primary:active,
.button-primary:active,
input[type="submit"]:active,
button[type="submit"]:active,
.btn-primary:visited,
.button-primary:visited,
.btn-primary:hover,
.button-primary:hover,
input[type="submit"]:hover,
button[type="submit"]:hover,
/* Все возможные варианты кнопок */
button.btn,
button[class*="btn"],
input[class*="btn"],
a.btn,
a[class*="btn"] {
    background-color: #26A17B !important;
    background: #26A17B !important;
    background-image: none !important;
    border-color: #26A17B !important;
    color: white !important;
}

/* Убеждаемся, что текст кнопок всегда белый */
.btn-primary *,
.button-primary *,
input[type="submit"] *,
button[type="submit"] *,
.btn-primary span,
.button-primary span,
input[type="submit"] span,
button[type="submit"] span {
    color: white !important;
}

/* Убираем фиолетовые градиенты и фоны из кнопок */
.btn-primary[style*="purple"],
.btn-primary[style*="violet"],
.btn-primary[style*="#667eea"],
.btn-primary[style*="#764ba2"],
button[style*="purple"],
button[style*="violet"],
input[type="submit"][style*="purple"],
input[type="submit"][style*="violet"] {
    background-color: #26A17B !important;
    background: #26A17B !important;
    background-image: none !important;
    border-color: #26A17B !important;
}

/* Активные ссылки и элементы */
.nav-sidebar .nav-link.active,
.nav-sidebar .nav-link:hover,
.nav-sidebar .nav-item.active > .nav-link,
a:focus,
a:hover {
    color: #26A17B !important;
}

/* Акцентные цвета */
.text-primary,
.badge-primary,
.alert-primary {
    color: #26A17B !important;
    background-color: rgba(38, 161, 123, 0.1) !important;
    border-color: #26A17B !important;
}

/* Фокус на полях ввода - принудительно заменяем фиолетовые цвета */
.form-control:focus,
input[type="text"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
input[type="number"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
select:focus,
textarea:focus {
    border-color: #26A17B !important;
    box-shadow: 0 0 0 3px rgba(38, 161, 123, 0.1) !important;
    outline-color: #26A17B !important;
    outline: 2px solid #26A17B !important;
}

/* Убираем фиолетовые цвета из фокуса всех элементов */
*:focus {
    outline-color: #26A17B !important;
}

*[style*="purple"]:focus,
*[style*="violet"]:focus,
*[style*="#667eea"]:focus,
*[style*="#764ba2"]:focus,
*[style*="#6f42c1"]:focus,
*[style*="#7c3aed"]:focus {
    border-color: #26A17B !important;
    box-shadow: 0 0 0 3px rgba(38, 161, 123, 0.1) !important;
    outline-color: #26A17B !important;
}

/* Чекбоксы и радиокнопки */
input[type="checkbox"]:checked,
input[type="radio"]:checked {
    accent-color: #26A17B !important;
}

/* Скрываем кнопку "Return to site" на странице входа */
.login-page a[href="/"],
.login-page a[href*="/"]:not([href*="/admin/"]):not([href*="login"]),
.login-page .site-link,
.login-page .return-link,
.login-page header a[href="/"],
.login-page [class*="return"],
.login-page [class*="site-link"] {
    display: none !important;
    visibility: hidden !important;
}

/* Темная тема - белый текст для всех элементов на странице входа */
[data-theme="dark"] .login-page label,
html[data-theme="dark"] .login-page label,
[data-theme="dark"] .login-page p,
html[data-theme="dark"] .login-page p,
[data-theme="dark"] .login-page h1,
html[data-theme="dark"] .login-page h1,
[data-theme="dark"] .login-page h2,
html[data-theme="dark"] .login-page h2,
[data-theme="dark"] .login-page h3,
html[data-theme="dark"] .login-page h3,
[data-theme="dark"] .login-page .login-box-msg,
html[data-theme="dark"] .login-page .login-box-msg,
[data-theme="dark"] .login-page .login-box-msg *,
html[data-theme="dark"] .login-page .login-box-msg * {
    color: white !important;
}

/* Иконки переключателя темы - белые при темной теме */
[data-theme="dark"] .theme-toggle svg,
html[data-theme="dark"] .theme-toggle svg,
[data-theme="dark"] .theme-toggle,
html[data-theme="dark"] .theme-toggle,
[data-theme="dark"] button[aria-label*="theme"] svg,
html[data-theme="dark"] button[aria-label*="theme"] svg,
[data-theme="dark"] [class*="theme"] svg,
html[data-theme="dark"] [class*="theme"] svg,
[data-theme="dark"] .theme-toggle path,
html[data-theme="dark"] .theme-toggle path,
[data-theme="dark"] .theme-toggle circle,
html[data-theme="dark"] .theme-toggle circle {
    color: white !important;
    fill: white !important;
    stroke: white !important;
}

/* Светлая тема - черные лейблы и текст инпутов */
[data-theme="light"] .login-page label,
html[data-theme="light"] .login-page label,
html:not([data-theme="dark"]) .login-page label,
[data-theme="light"] .login-page .form-group label,
html[data-theme="light"] .login-page .form-group label,
html:not([data-theme="dark"]) .login-page .form-group label {
    color: #000 !important;
    color: black !important;
}

[data-theme="light"] .login-page .form-control,
html[data-theme="light"] .login-page .form-control,
html:not([data-theme="dark"]) .login-page .form-control,
[data-theme="light"] .login-page input[type="text"],
[data-theme="light"] .login-page input[type="password"],
[data-theme="light"] .login-page input[type="email"],
html[data-theme="light"] .login-page input[type="text"],
html[data-theme="light"] .login-page input[type="password"],
html[data-theme="light"] .login-page input[type="email"] {
    background-color: white !important;
    border: 1px solid #ddd !important;
    color: #000 !important;
    color: black !important;
}

[data-theme="light"] .login-page .form-control:focus,
html[data-theme="light"] .login-page .form-control:focus,
html:not([data-theme="dark"]) .login-page .form-control:focus,
[data-theme="light"] .login-page input[type="text"]:focus,
[data-theme="light"] .login-page input[type="password"]:focus,
[data-theme="light"] .login-page input[type="email"]:focus {
    background-color: white !important;
    border-color: #26A17B !important;
    color: #000 !important;
    color: black !important;
    box-shadow: 0 0 0 3px rgba(38, 161, 123, 0.1) !important;
}

/* Логотип в Unfold - верхний левый угол */
header img[src*="logo"],
header [class*="brand"] img,
header [class*="logo"] img,
[data-unfold] img[src*="logo"],
.brand-logo img,
.site-logo img,
.unfold-brand img {
    max-height: 40px !important;
    height: auto !important;
    width: auto !important;
    display: block !important;
    object-fit: contain !important;
}

/* Убеждаемся, что логотип виден в header */
header [class*="brand"],
header [class*="logo"],
header a[href="/admin/"] img,
[data-unfold] [class*="brand"],
.brand-logo,
.site-logo {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
}

/* Специфичные стили для Unfold header */
header a[href="/admin/"],
header [href="/admin/"] {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
}

header a[href="/admin/"] img {
    display: block !important;
    max-height: 40px !important;
    width: auto !important;
}

/* Навбар и сайдбар используют стандартные цвета Unfold */

.nav-sidebar .nav-link {
    color: rgba(255, 255, 255, 0.8) !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

/* Цвета hover и active используют стандартные цвета Unfold */

/* Дополнительные стили для навигационных элементов в сайдбаре */
aside .nav-sidebar .nav-item > .nav-link {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

aside .nav-sidebar .nav-item .nav-link {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

/* Скрываем блок с информацией о пользователе в сайдбаре */
aside .user-panel,
aside .user-panel .info,
aside .nav-sidebar .nav-item:has(.user-panel),
aside .nav-sidebar .nav-item:first-child:has([class*="user"]),
aside .nav-sidebar > .nav-item:first-child {
    display: none !important;
}

/* Альтернативный способ - скрыть первый элемент навигации если это пользователь */
aside .nav-sidebar > .nav-item:first-of-type:has(.user-panel),
aside .nav-sidebar > .nav-item:first-of-type:has([class*="user"]) {
    display: none !important;
}

/* Скрываем кнопку "Управление ботом" в сайдбаре - только с иконкой робота */
/* НЕ скрываем "Пользователи телеграма" - у неё иконка fa-user */
aside .nav-sidebar .nav-link:has(i.fa-robot),
aside .nav-sidebar .nav-item:has(i.fa-robot),
aside .nav-sidebar .nav-link:has(.fa-robot),
aside .nav-sidebar .nav-item:has(.fa-robot) {
    display: none !important;
}

/* Скрываем иконку робота */
aside .nav-sidebar .nav-link i.fa-robot,
aside .nav-sidebar .nav-item .nav-link i.fa-robot {
    display: none !important;
}

/* Скрываем родительский элемент навигации с иконкой робота */
aside .nav-sidebar .nav-item:has(i.fa-robot),
aside .nav-sidebar .nav-item:has(.fa-robot) {
    display: none !important;
}

/* Скрываем кнопку "Группы" в разделе "Пользователи и группы" */
aside .nav-sidebar .nav-link[href*="auth/group"],
aside .nav-sidebar .nav-item:has(a[href*="auth/group"]),
aside .nav-sidebar .nav-item:has(a[href*="group/"]),
aside .nav-sidebar a[href*="auth/group"],
aside .nav-sidebar a[href*="group/"] {
    display: none !important;
}

/* Альтернативный способ - скрыть по тексту "Группы" */
aside .nav-sidebar .nav-link:has-text("Группы"),
aside .nav-sidebar .nav-item:has-text("Группы") {
    display: none !important;
}

/* Основной контент */
.content-wrapper {
    background-color: var(--bg-color) !important;
}

.content-header {
    background-color: var(--bg-color) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.content-header h1 {
    color: white !important;
}

/* Карточки и формы */
.card {
    background-color: #1f2328 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: white !important;
}

/* Карточки используют стандартные цвета Unfold */

/* Инпуты и селекторы используют стандартные стили Unfold */

/* Кнопки используют стандартные цвета Unfold */

.btn-primary:hover {
    background-color: #1e8a6a !important;
    border-color: #1e8a6a !important;
}

.btn-secondary {
    background-color: #2d3136 !important;
    border-color: #2d3136 !important;
    color: white !important;
}

/* Таблицы */
.table {
    color: white !important;
}

/* Таблицы используют стандартные цвета Unfold */

.table tbody tr {
    background-color: #1f2328 !important;
}

/* Hover эффекты используют стандартные цвета Unfold */

.table tbody td {
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Ссылки используют стандартные цвета Unfold */

a:hover {
    color: #1e8a6a !important;
}

/* Текст - темная тема */
[data-theme="dark"] body,
html[data-theme="dark"] body {
    background-color: var(--bg-color) !important;
    color: white !important;
}

[data-theme="dark"] .text-muted,
html[data-theme="dark"] .text-muted {
    color: rgba(255, 255, 255, 0.6) !important;
}

/* Текст - светлая тема */
[data-theme="light"] body,
html[data-theme="light"] body,
html:not([data-theme="dark"]) body {
    background-color: #f5f5f5 !important;
    color: #333 !important;
}

[data-theme="light"] .text-muted,
html[data-theme="light"] .text-muted,
html:not([data-theme="dark"]) .text-muted {
    color: rgba(0, 0, 0, 0.6) !important;
}

/* Пагинация */
.pagination .page-link {
    background-color: #1f2328 !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
}

/* Пагинация использует стандартные цвета Unfold */

/* Фильтры */
.filter-horizontal {
    background-color: #1f2328 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Алерты */
.alert {
    background-color: #1f2328 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: white !important;
}

/* Алерты используют стандартные цвета Unfold */

/* Модальные окна - темная тема */
[data-theme="dark"] .modal-content,
html[data-theme="dark"] .modal-content {
    background-color: #1f2328 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

[data-theme="dark"] .modal-body,
html[data-theme="dark"] .modal-body {
    background-color: #1f2328 !important;
    color: white !important;
}

[data-theme="dark"] .modal-footer,
html[data-theme="dark"] .modal-footer {
    background-color: #1f2328 !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Модальные окна - светлая тема */
[data-theme="light"] .modal-content,
html[data-theme="light"] .modal-content,
html:not([data-theme="dark"]) .modal-content {
    background-color: white !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    color: #333 !important;
}

[data-theme="light"] .modal-body,
html[data-theme="light"] .modal-body,
html:not([data-theme="dark"]) .modal-body {
    background-color: white !important;
    color: #333 !important;
}

[data-theme="light"] .modal-footer,
html[data-theme="light"] .modal-footer,
html:not([data-theme="dark"]) .modal-footer {
    background-color: white !important;
    border-top: 1px solid rgba(0, 0, 0, 0.1) !important;
    color: #333 !important;
}

/* Чекбоксы и радио */
/* Чекбоксы и радио используют стандартные цвета Unfold */

/* Селекты - дополнительные стили (дубликаты удалены, используются стили выше) */

/* Логотип - удалено, используется стиль выше */

/* Стили для страницы входа удалены - используются дефолтные стили Unfold */


/* Бренд в сайдбаре - только текст, без логотипа */
.brand-link {
    background-color: var(--sidebar-bg) !important;
    background-image: none !important;
    padding: 14px 15px !important;
    min-height: 60px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    line-height: 1 !important;
    margin: 0 !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    position: relative !important;
}

.brand-link .brand-image,
.brand-link img {
    display: none !important;
}

.brand-text {
    color: white !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1 !important;
    display: flex !important;
    align-items: center !important;
    text-align: left !important;
}

/* Активные элементы */
/* Активные элементы используют стандартные цвета Unfold */

/* Ховер на ссылках использует стандартные цвета Unfold */

/* Инпуты используют стандартные стили Unfold */

/* Селекторы используют стандартные стили Unfold */

/* Футер */
.main-footer {
    background-color: var(--bg-color) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.6) !important;
}

/* Дополнительные стили для темной темы */
.breadcrumb {
    background-color: #1f2328 !important;
}

.breadcrumb-item a {
    color: inherit !important;
}

.breadcrumb-item.active {
    color: rgba(255, 255, 255, 0.6) !important;
}

/* Бейджи используют стандартные цвета Unfold */

.badge-secondary {
    background-color: #2d3136 !important;
}

/* Дропдауны - темная тема */
[data-theme="dark"] .dropdown-menu,
html[data-theme="dark"] .dropdown-menu {
    background-color: #1f2328 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

[data-theme="dark"] .dropdown-item,
html[data-theme="dark"] .dropdown-item {
    color: white !important;
}

[data-theme="dark"] .dropdown-item:hover,
html[data-theme="dark"] .dropdown-item:hover {
    background-color: rgba(128, 128, 128, 0.2) !important;
    color: white !important;
}

/* Дропдауны - светлая тема */
[data-theme="light"] .dropdown-menu,
html[data-theme="light"] .dropdown-menu,
html:not([data-theme="dark"]) .dropdown-menu {
    background-color: white !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    color: #333 !important;
}

[data-theme="light"] .dropdown-item,
html[data-theme="light"] .dropdown-item,
html:not([data-theme="dark"]) .dropdown-item {
    color: #333 !important;
}

[data-theme="light"] .dropdown-item:hover,
html[data-theme="light"] .dropdown-item:hover,
html:not([data-theme="dark"]) .dropdown-item:hover {
    background-color: rgba(38, 161, 123, 0.1) !important;
    color: #26A17B !important;
}

/* Popup профиля пользователя - позиционирование в header */
header .dropdown-menu,
header [class*="dropdown"],
header [class*="menu"],
.unfold-header .dropdown-menu,
.unfold-header [class*="dropdown"],
header .user-menu,
header [id*="user-menu"],
header [id*="profile-menu"] {
    position: absolute !important;
    top: 100% !important;
    right: 0 !important;
    left: auto !important;
    margin-top: 0.5rem !important;
    z-index: 1000 !important;
    min-width: 200px !important;
}

/* Убеждаемся, что кнопка профиля в header */
header [class*="user"],
header [class*="profile"],
header button[aria-label*="user"],
header button[aria-label*="profile"],
.unfold-header [class*="user"],
.unfold-header [class*="profile"] {
    position: relative !important;
}

/* Popup должен быть привязан к header */
header .dropdown,
header [class*="dropdown"] {
    position: relative !important;
}

/* Убираем абсолютное позиционирование от body, если есть */
body > .dropdown-menu:not(header .dropdown-menu),
body > [class*="dropdown-menu"]:not(header [class*="dropdown-menu"]) {
    display: none !important;
}

/* Табы */
.nav-tabs {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.nav-tabs .nav-link {
    color: rgba(255, 255, 255, 0.8) !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
}

.nav-tabs .nav-link:hover {
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
}

.nav-tabs .nav-link.active {
    /* Background использует стандартные цвета Unfold */
    /* Border использует стандартные цвета Unfold */
    color: white !important;
}

/* Инлайн формы */
.inline-group {
    background-color: #1f2328 !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.inline-group .form-row {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Поиск */
#searchbar {
    background-color: #1f2328 !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
}

/* Searchbar использует стандартные цвета Unfold */

/* Чекбоксы в таблицах */
input[type="checkbox"] {
    width: 18px;
    height: 18px;
}

/* Селекты в таблицах - стили уже определены выше */

/* Лейблы */
label {
    color: white !important;
}

.required {
    color: inherit !important;
}

/* Сообщения */
.messages {
    background-color: #1f2328 !important;
}

.messages .success {
    background-color: rgba(128, 128, 128, 0.2) !important;
    border-left: 4px solid inherit !important;
    color: white !important;
}

.messages .error {
    background-color: rgba(220, 53, 69, 0.2) !important;
    border-left: 4px solid #dc3545 !important;
    color: white !important;
}

.messages .warning {
    background-color: rgba(255, 193, 7, 0.2) !important;
    border-left: 4px solid #ffc107 !important;
    color: white !important;
}

.messages .info {
    background-color: rgba(13, 202, 240, 0.2) !important;
    border-left: 4px solid #0dcaf0 !important;
    color: white !important;
}

/* Дашборд - секции приложений (Bot, Пользователи и группы) */
.app-bot .card-header,
.app-auth .card-header {
    color: white !important;
}

.app-bot .card-header h3,
.app-auth .card-header h3,
.app-bot .card-header a,
.app-auth .card-header a {
    color: white !important;
}

/* Кнопки в дашборде */
.app-bot .btn,
.app-auth .btn {
    color: white !important;
}

.app-bot .btn-primary,
.app-auth .btn-primary {
    color: white !important;
}

.app-bot .btn-secondary,
.app-auth .btn-secondary {
    color: white !important;
}

/* Текст в карточках дашборда */
.app-bot .card-body,
.app-auth .card-body {
    color: white !important;
}

.app-bot .card-body a,
.app-auth .card-body a {
    color: white !important;
}

.app-bot .card-body a:hover,
.app-auth .card-body a:hover {
    color: inherit !important;
}

/* Модели в дашборде */
.app-bot .model,
.app-auth .model {
    color: white !important;
}

.app-bot .model a,
.app-auth .model a {
    color: white !important;
}

.app-bot .model a:hover,
.app-auth .model a:hover {
    color: inherit !important;
}

/* Общие стили для дашборда */
.dashboard .module table th,
.dashboard .module table td {
    color: white !important;
}

.dashboard .module h2,
.dashboard .module h3 {
    color: white !important;
}

.dashboard .module a {
    color: white !important;
}

.dashboard .module a:hover {
    color: inherit !important;
}

/* Дополнительные стили для всех карточек в дашборде */
.content-wrapper .card,
.content-wrapper .card-header,
.content-wrapper .card-body {
    color: white !important;
}

.content-wrapper .card-header h3,
.content-wrapper .card-header h4,
.content-wrapper .card-header h5 {
    color: white !important;
}

.content-wrapper .card-header a {
    color: white !important;
}

.content-wrapper .card-body a,
.content-wrapper .card-body .model a {
    color: white !important;
}

.content-wrapper .card-body a:hover,
.content-wrapper .card-body .model a:hover {
    color: inherit !important;
}

/* Все кнопки в дашборде */
.content-wrapper .btn {
    color: white !important;
}

.content-wrapper .btn-primary {
    color: white !important;
}

.content-wrapper .btn-secondary {
    color: white !important;
}

.content-wrapper .btn-info {
    color: white !important;
}

/* Специфичные стили для Jazmin дашборда - заголовки секций */
.app-bot .card-header,
.app-auth .card-header {
    color: white !important;
}

.app-bot .card-header h3,
.app-auth .card-header h3,
.app-bot .card-header h4,
.app-auth .card-header h4,
.app-bot .card-header h5,
.app-auth .card-header h5 {
    color: white !important;
}

.app-bot .card-header a,
.app-auth .card-header a {
    color: white !important;
}

.app-bot .card-body,
.app-auth .card-body {
    color: white !important;
}

.app-bot .card-body .model,
.app-auth .card-body .model {
    color: white !important;
}

.app-bot .card-body .model a,
.app-auth .card-body .model a {
    color: white !important;
}

.app-bot .card-body .model a:hover,
.app-auth .card-body .model a:hover {
    color: inherit !important;
}

/* Перемещение "Последние действия" вниз страницы */
#jazzy-actions,
.recent-actions,
.module.recent-actions {
    position: relative !important;
    float: none !important;
    width: 100% !important;
    margin-top: 30px !important;
    clear: both !important;
}

/* На главной странице дашборда - карточки по горизонтали, последние действия внизу */
.dashboard .row {
    display: flex !important;
    flex-wrap: wrap !important;
}

/* Основной контент с карточками - горизонтально */
.dashboard .col-md-9 {
    order: 1 !important;
    flex: 0 0 100% !important;
    max-width: 100% !important;
    display: flex !important;
    flex-direction: row !important;
    gap: 20px !important;
}

/* Карточки Bot и Пользователи и группы - в ряд */
.dashboard .col-md-9 > .app-bot,
.dashboard .col-md-9 > .app-auth,
.dashboard .col-md-9 > .card,
.dashboard .col-md-9 > .module,
.dashboard .col-md-9 .app-bot,
.dashboard .col-md-9 .app-auth,
.dashboard .col-md-9 .card,
.dashboard .col-md-9 .module {
    flex: 1 1 calc(50% - 10px) !important;
    min-width: 0 !important;
    margin-bottom: 0 !important;
}

/* Контейнер для карточек в дашборде */
.dashboard .col-md-9 .row,
.dashboard .col-md-9 > div {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap !important;
    gap: 20px !important;
}

/* Последние действия - внизу, на всю ширину */
.dashboard .col-md-3,
.dashboard #jazzy-actions,
.dashboard .recent-actions,
.dashboard .module.recent-actions {
    order: 2 !important;
    flex: 0 0 100% !important;
    width: 100% !important;
    max-width: 100% !important;
    margin-top: 30px !important;
    clear: both !important;
}

/* Степы (steps) - горизонтально */
.steps,
.step,
.wizard,
.wizard-steps,
.form-wizard,
.form-wizard .steps {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
}

.steps li,
.step-item,
.wizard-step,
.form-wizard .step {
    flex: 1 1 auto !important;
    display: inline-block !important;
    margin-right: 10px !important;
}

/* Дополнительные стили для горизонтальных степов */
ul.steps,
ol.steps {
    display: flex !important;
    flex-direction: row !important;
    list-style: none !important;
    padding: 0 !important;
    margin: 0 0 20px 0 !important;
}

ul.steps li,
ol.steps li {
    flex: 1 1 auto !important;
    margin-right: 10px !important;
    text-align: center !important;
}

/* ============================================
   RESPONSIVE STYLES FOR MOBILE DEVICES
   ============================================ */

/* Mobile devices (phones, less than 768px) */
@media (max-width: 767.98px) {
    /* Основной контейнер */
    body {
        font-size: 14px !important;
    }

    /* Сайдбар - скрыт по умолчанию, показывается через кнопку */
    .main-sidebar {
        position: fixed !important;
        left: -250px !important;
        top: 0 !important;
        height: 100vh !important;
        z-index: 1050 !important;
        transition: left 0.3s ease !important;
        width: 250px !important;
        overflow-y: auto !important;
    }

    .main-sidebar.sidebar-open {
        left: 0 !important;
    }

    /* Кнопка для открытия/закрытия сайдбара */
    .sidebar-toggle {
        display: block !important;
        position: fixed !important;
        top: 8px !important;
        left: 8px !important;
        z-index: 1051 !important;
        /* Background использует стандартные цвета Unfold */
        color: white !important;
        border: none !important;
        padding: 10px 12px !important;
        border-radius: 6px !important;
        cursor: pointer !important;
        font-size: 18px !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    }

    /* Overlay для сайдбара на мобильных */
    .sidebar-overlay {
        display: none !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background-color: rgba(0, 0, 0, 0.5) !important;
        z-index: 1049 !important;
    }

    .sidebar-overlay.active {
        display: block !important;
    }

    /* Контент - на всю ширину */
    .content-wrapper {
        margin-left: 0 !important;
        width: 100% !important;
        padding: 8px 4px !important;
    }

    /* Навбар */
    .main-header {
        margin-left: 0 !important;
        width: 100% !important;
        padding: 0 !important;
    }

    .navbar {
        padding: 8px 4px !important;
        min-height: auto !important;
    }

    .navbar-brand {
        font-size: 16px !important;
        padding: 4px 0 !important;
        margin: 0 !important;
    }

    /* Заголовки */
    .content-header {
        padding: 10px 4px !important;
        margin-bottom: 8px !important;
    }

    .content-header h1 {
        font-size: 18px !important;
        margin-bottom: 5px !important;
        padding: 0 !important;
        line-height: 1.3 !important;
    }

    /* Changelist форма */
    #changelist {
        flex-direction: column !important;
    }

    #changelist .changelist-form-container {
        width: 100% !important;
        order: 2 !important;
    }

    #changelist-filter {
        order: 1 !important;
        width: 100% !important;
        margin-left: 0 !important;
        margin-bottom: 12px !important;
    }

    /* Таблицы - горизонтальная прокрутка */
    .table-responsive {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        margin-bottom: 10px !important;
    }

    .table {
        min-width: 600px !important;
        font-size: 12px !important;
    }

    .table th,
    .table td {
        padding: 8px 4px !important;
        white-space: nowrap !important;
        font-size: 13px !important;
    }

    /* Карточки */
    .card {
        margin-bottom: 10px !important;
    }

    .card-header {
        padding: 10px 8px !important;
        font-size: 14px !important;
    }

    .card-body {
        padding: 10px 8px !important;
    }

    /* Формы */
    .form-group {
        margin-bottom: 10px !important;
    }

    .form-control {
        font-size: 16px !important; /* Предотвращает зум на iOS */
        padding: 10px 8px !important;
        width: 100% !important;
        margin-bottom: 5px !important;
    }

    /* Кнопки */
    .btn {
        padding: 10px 12px !important;
        font-size: 14px !important;
        min-height: 44px !important; /* Минимальный размер для касания */
        width: 100% !important;
        margin-bottom: 8px !important;
        line-height: 1.4 !important;
    }

    .btn-group .btn {
        width: auto !important;
        margin-bottom: 0 !important;
    }

    /* Фильтры */
    .changelist-filter {
        position: relative !important;
        width: 100% !important;
        margin-bottom: 12px !important;
        padding: 12px 8px !important;
        background-color: #1f2328 !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 8px !important;
    }

    .changelist-filter h3 {
        font-size: 14px !important;
        font-weight: 600 !important;
        margin-bottom: 8px !important;
        padding: 0 !important;
        color: white !important;
    }

    .changelist-filter ul {
        margin: 0 !important;
        padding: 0 !important;
    }

    .changelist-filter li {
        margin-bottom: 6px !important;
        padding: 0 !important;
    }

    .changelist-filter a {
        padding: 8px 10px !important;
        border-radius: 4px !important;
        display: block !important;
        transition: background-color 0.2s ease !important;
    }

    .changelist-filter li.selected a {
        background-color: rgba(128, 128, 128, 0.2) !important;
        color: inherit !important;
    }

    .changelist-filter details {
        margin-bottom: 10px !important;
    }

    .changelist-filter details summary {
        padding: 8px 10px !important;
        font-size: 13px !important;
        cursor: pointer !important;
        border-radius: 4px !important;
        transition: background-color 0.2s ease !important;
    }

    .changelist-filter details summary:hover {
        background-color: rgba(255, 255, 255, 0.05) !important;
    }

    /* Поиск и toolbar */
    #toolbar {
        padding: 12px 8px !important;
        margin-bottom: 12px !important;
        background-color: #1f2328 !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 8px !important;
    }

    #toolbar form {
        display: flex !important;
        flex-direction: column !important;
        gap: 8px !important;
    }

    #toolbar .form-row {
        display: flex !important;
        flex-direction: row !important;
        gap: 8px !important;
        align-items: center !important;
        margin-bottom: 0 !important;
    }

    #toolbar .form-row input[type="text"],
    #toolbar .form-row select {
        flex: 1 !important;
        margin-bottom: 0 !important;
    }

    #toolbar input[type="submit"] {
        padding: 10px 16px !important;
        min-height: 44px !important;
        white-space: nowrap !important;
    }

    /* Поиск */
    #searchbar {
        width: 100% !important;
        margin-bottom: 8px !important;
        font-size: 16px !important;
        padding: 10px 12px !important;
        border-radius: 6px !important;
    }

    /* Пагинация */
    .pagination {
        flex-wrap: wrap !important;
        justify-content: center !important;
        margin: 10px 0 !important;
        padding: 0 !important;
    }

    .pagination .page-link {
        padding: 8px 10px !important;
        font-size: 13px !important;
        min-width: 40px !important;
        min-height: 40px !important;
    }

    /* Модальные окна */
    .modal-dialog {
        margin: 3px !important;
        max-width: calc(100% - 6px) !important;
    }

    .modal-content {
        border-radius: 6px !important;
    }

    .modal-header,
    .modal-body,
    .modal-footer {
        padding: 15px 12px !important;
    }

    /* Дашборд - карточки вертикально */
    .dashboard .col-md-9 {
        flex-direction: column !important;
    }

    .dashboard .col-md-9 > .app-bot,
    .dashboard .col-md-9 > .app-auth,
    .dashboard .col-md-9 > .card,
    .dashboard .col-md-9 > .module {
        flex: 1 1 100% !important;
        width: 100% !important;
    }

    /* Хлебные крошки */
    .breadcrumb {
        font-size: 12px !important;
        padding: 6px 4px !important;
        margin-bottom: 8px !important;
    }

    /* Инлайн формы */
    .inline-group {
        overflow-x: auto !important;
        padding: 10px 8px !important;
        margin-bottom: 10px !important;
    }

    /* Табы */
    .nav-tabs {
        flex-wrap: wrap !important;
        margin-bottom: 6px !important;
    }

    .nav-tabs .nav-link {
        padding: 10px 12px !important;
        font-size: 13px !important;
        min-height: 44px !important;
    }

    /* Дропдауны */
    .dropdown-menu {
        width: 100% !important;
        max-width: calc(100vw - 20px) !important;
    }

    /* Футер */
    .main-footer {
        margin-left: 0 !important;
        padding: 10px 8px !important;
        font-size: 12px !important;
    }

    /* Контент */
    .content {
        padding: 8px 4px !important;
    }

    /* Модули */
    .module {
        margin-bottom: 10px !important;
        padding: 10px 8px !important;
    }

    /* Формы - уменьшаем отступы */
    .form-row {
        margin-bottom: 10px !important;
    }

    .field-box {
        padding: 10px 8px !important;
    }

    /* Действия */
    .actions {
        padding: 10px 8px !important;
        margin-bottom: 10px !important;
    }

    .actions label {
        margin-bottom: 3px !important;
        padding: 0 !important;
    }

    /* Object tools */
    .object-tools {
        margin-bottom: 6px !important;
        padding: 0 !important;
    }

    .object-tools li {
        margin-bottom: 3px !important;
    }

    /* Фильтры в changelist */
    #changelist-filter {
        padding: 10px 8px !important;
        margin-bottom: 10px !important;
    }

    /* Результаты поиска */
    .results {
        margin-top: 6px !important;
    }

    /* Список результатов */
    #result_list {
        margin: 0 !important;
    }

    #result_list th {
        padding: 10px 6px !important;
        font-size: 13px !important;
    }

    #result_list td {
        padding: 10px 6px !important;
        font-size: 13px !important;
    }

    /* Чекбоксы в таблицах */
    #result_list input[type="checkbox"] {
        margin: 0 !important;
        padding: 0 !important;
    }

    /* Скрываем некоторые элементы на мобильных */
    .d-none-mobile {
        display: none !important;
    }

    /* Увеличиваем размер чекбоксов для удобства */
    input[type="checkbox"] {
        width: 24px !important;
        height: 24px !important;
    }

    /* Улучшаем отступы */
    .content {
        padding: 10px !important;
    }

    /* Степы - вертикально на мобильных */
    .steps,
    ul.steps,
    ol.steps {
        flex-direction: column !important;
    }

    ul.steps li,
    ol.steps li {
        margin-right: 0 !important;
        margin-bottom: 10px !important;
    }
}

/* Планшеты (768px - 991px) */
@media (min-width: 768px) and (max-width: 991.98px) {
    .content-wrapper {
        padding: 15px !important;
    }

    .table {
        font-size: 13px !important;
    }

    .btn {
        padding: 8px 4px !important;
        min-height: 40px !important;
    }

    .card-body {
        padding: 20px 4px !important;
    }
}

/* Улучшения для очень маленьких экранов (менее 576px) */
@media (max-width: 575.98px) {
    body {
        font-size: 13px !important;
    }

    .content-header h1 {
        font-size: 18px !important;
    }

    .table {
        font-size: 11px !important;
        min-width: 500px !important;
    }

    .btn {
        font-size: 13px !important;
        padding: 12px 4px !important;
    }

    .form-control {
        font-size: 16px !important;
        padding: 12px 4px !important;
    }

    .modal-dialog {
        margin: 5px !important;
        max-width: calc(100% - 10px) !important;
    }
}

/* Ландшафтная ориентация на мобильных */
@media (max-width: 767.98px) and (orientation: landscape) {
    .main-sidebar {
        width: 200px !important;
    }

    .content-wrapper {
        padding: 10px 1px !important;
    }

    .table {
        font-size: 11px !important;
    }
}

/* Улучшения для touch устройств */
@media (hover: none) and (pointer: coarse) {
    /* Увеличиваем область клика для ссылок */
    a {
        min-height: 44px !important;
        display: inline-flex !important;
        align-items: center !important;
        padding: 8px 4px !important;
    }

    /* Улучшаем кнопки */
    .btn {
        min-height: 44px !important;
        min-width: 44px !important;
    }

    /* Улучшаем элементы навигации */
    .nav-link {
        min-height: 44px !important;
        padding: 12px 15px !important;
    }
}

/* Дополнительные улучшения для мобильных */
@media (max-width: 767.98px) {
    /* Улучшаем отображение действий в таблицах */
    .field-actions,
    .field-get_absolute_url {
        white-space: normal !important;
    }

    /* Улучшаем отображение полей в формах */
    .form-row {
        flex-direction: column !important;
    }

    .form-row > div {
        width: 100% !important;
        margin-bottom: 5px !important;
    }

    /* Улучшаем отображение help text */
    .help-block,
    .help-text {
        font-size: 12px !important;
        margin-top: 4px !important;
        padding: 0 4px !important;
    }

    /* Улучшаем отображение ошибок */
    .errorlist {
        font-size: 12px !important;
        padding: 8px 10px !important;
        margin: 5px 0 !important;
    }

    /* Улучшаем отображение inline форм */
    .inline-related {
        margin-bottom: 10px !important;
        padding: 10px 8px !important;
    }

    /* Улучшаем отображение фильтров */
    #changelist-filter {
        position: relative !important;
        width: 100% !important;
        margin-bottom: 12px !important;
        padding: 12px 8px !important;
        background-color: #1f2328 !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 8px !important;
    }

    #changelist-filter h2 {
        font-size: 13px !important;
        font-weight: 600 !important;
        padding: 8px 0 !important;
        margin-bottom: 10px !important;
        color: white !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    }

    #changelist-filter h3,
    #changelist-filter details summary {
        font-size: 13px !important;
        font-weight: 500 !important;
        padding: 8px 10px !important;
        margin-bottom: 6px !important;
        color: rgba(255, 255, 255, 0.9) !important;
    }

    #changelist-filter details {
        margin-bottom: 8px !important;
    }

    #changelist-filter details summary {
        cursor: pointer !important;
        border-radius: 4px !important;
        transition: background-color 0.2s ease !important;
    }

    #changelist-filter details summary:hover {
        background-color: rgba(255, 255, 255, 0.05) !important;
    }

    #changelist-filter ul {
        margin: 0 !important;
        padding: 4px 10px 10px !important;
    }

    #changelist-filter li {
        margin-bottom: 4px !important;
    }

    #changelist-filter a {
        padding: 8px 10px !important;
        border-radius: 4px !important;
        display: block !important;
        color: rgba(255, 255, 255, 0.8) !important;
        transition: all 0.2s ease !important;
    }

    #changelist-filter a:hover {
        background-color: rgba(255, 255, 255, 0.05) !important;
        color: white !important;
    }

    #changelist-filter li.selected a {
        background-color: rgba(128, 128, 128, 0.2) !important;
        color: inherit !important;
        font-weight: 500 !important;
    }

    /* Улучшаем отображение действий */
    .actions {
        margin-bottom: 12px !important;
        padding: 12px 8px !important;
        background-color: #1f2328 !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 8px !important;
    }

    .actions label {
        display: block !important;
        margin-bottom: 8px !important;
        font-size: 13px !important;
        font-weight: 500 !important;
        color: white !important;
    }

    .actions select,
    .actions input {
        width: 100% !important;
        margin-bottom: 8px !important;
        padding: 10px 12px !important;
        border-radius: 6px !important;
    }

    .actions button,
    .actions input[type="submit"] {
        width: 100% !important;
        padding: 10px 16px !important;
        min-height: 44px !important;
        font-size: 14px !important;
        border-radius: 6px !important;
    }

    /* Улучшаем отображение object-tools */
    .object-tools {
        margin-bottom: 6px !important;
        padding: 0 !important;
    }

    .object-tools li {
        margin-bottom: 3px !important;
    }

    .object-tools a {
        width: 100% !important;
        text-align: center !important;
        padding: 10px 12px !important;
    }

    /* Уменьшаем отступы в формах редактирования */
    .form-horizontal .form-group {
        margin-bottom: 10px !important;
    }

    /* Уменьшаем отступы в полях */
    .field-wrapper {
        padding: 8px 0 !important;
    }

    /* Уменьшаем отступы в списках моделей */
    .model {
        margin-bottom: 8px !important;
        padding: 8px 0 !important;
    }

    /* Уменьшаем отступы в заголовках секций */
    h2,
    h3 {
        margin-top: 10px !important;
        margin-bottom: 8px !important;
        padding: 0 !important;
    }

    /* Уменьшаем отступы в параграфах */
    p {
        margin-bottom: 8px !important;
    }
    .module {
        margin-bottom: 10px !important;
        padding: 0px !important;
    }
    .content-wrapper{
        padding: 0px !important;
    }
    .col-12{
        padding: 4px !important;
    }

    /* Улучшаем changelist форму */
    #changelist-form {
        padding: 0 !important;
    }

    #changelist-form .results {
        margin-top: 12px !important;
    }

    /* Улучшаем отображение toolbar на мобильных */
    #toolbar .form-row {
        flex-wrap: wrap !important;
    }

    #toolbar .form-row > div {
        flex: 1 1 auto !important;
        min-width: 120px !important;
    }

    #toolbar input[type="submit"] {
        flex: 0 0 auto !important;
        min-width: 80px !important;
    }

    /* Улучшаем отображение поиска */
    #changelist-search {
        margin-bottom: 12px !important;
    }

    #changelist-search form {
        display: flex !important;
        gap: 8px !important;
        align-items: stretch !important;
    }

    #changelist-search input[type="text"] {
        flex: 1 !important;
        margin-bottom: 0 !important;
    }

    #changelist-search input[type="submit"] {
        flex: 0 0 auto !important;
        min-width: 80px !important;
    }
}

